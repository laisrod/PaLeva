 @dishes.as_json
 @dishes = @establishment.dishes
c
 @dishes.as_json(include: { tags: { only: [:id, :name] } })
 params[:tag_ids].present?
 @dishes = @dishes.joins(:tags).where(tags: { id: params[:tag_ids] }) if params[:tag_ids].present?
@dishes = @establishment.dishes.includes(:tags)
        if @dish.save
          render json: {
            dish: @dish.as_json(include: { tags: { only: [:id, :name] } }),
            message: 'Prato criado com sucesso'
          }, status: :created
        else
          render json: {
            status: :unprocessable_entity,
            error: @dish.errors.full_messages.map(&:to_s)
          }, status: :unprocessable_entity
        end
 if @dish.save
 @dish = @establishment.dishes.new(dish_params)
dish_params
 @establishment
c
user.save!
user.password_confirmation = "testes123456"
user.password = "testes123456"  # Isso hashea automaticamente
user.save!
user.password_confirmation = "testes123456"
user.valid_password?("testes123456")
user.valid_password?("testes123456")  # Teste aqui; se falhar, confirme o erro.
puts user.encrypted_password.length  # Deve ser ~60
puts user.encrypted_password  # Deve mostrar o hash
user.valid_password?(session_params[:password])
(session_params[:password])
session_params
